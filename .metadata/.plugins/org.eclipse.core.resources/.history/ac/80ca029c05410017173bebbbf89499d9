package com.ecommerce.controller;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.RequestParam;
import org.springframework.web.servlet.ModelAndView;

import com.ecommerce.service.Icandidate;
import com.ecommerce.service.Icategory;
import com.ecommerce.service.Iproduct;
import com.ecommerce.service.Isupplier;

@Controller
public class CategoryController {

	@Autowired
	Icategory category;
	
	@Autowired
	Iproduct prod;
	
	@Autowired
	Isupplier supplier;
	
	@Autowired
	Icandidate cands;
	
	@RequestMapping("addCategory")
	public ModelAndView addCat(@RequestParam("name")String name)
	{
		category.addCategory(name);
		String ProductgsonList=prod.getAllProduct();							//gets all product	
		ModelAndView mav = new ModelAndView("AdminArea", "productList",ProductgsonList);
		
		String allCategory = category.getAllCategories();						//gets alll categories
		mav.addObject("catlist", allCategory);
		
		String supplierlist = supplier.getAllSuppliers();						//gets all suppliers
		mav.addObject("supplier", supplierlist);
		
		mav.addObject("displayModal", false);
		System.out.println("Not Added");
		return mav;
		
	}
}
